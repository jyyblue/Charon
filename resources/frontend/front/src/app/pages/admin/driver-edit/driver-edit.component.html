<h4 class="d-flex justify-content-between align-items-center w-100 font-weight-bold py-3 mb-4">
    <div>Edit Driver</div>
    <button type="button" (click)="onSubmit()" class="btn btn-primary rounded-pill d-block"><span class="ion ion-md-add"></span>&nbsp; Update
        Driver</button>
</h4>

<div class="media align-items-center py-3 mb-3">
    <div class="media-body ml-4">
        <h4 class="font-weight-bold mb-0">User name <span class="text-muted font-weight-normal">@username</span></h4>
        <div class="text-muted mb-2">ID: userid</div>
    </div>
</div>

<form [formGroup]="dataForm" *ngIf="data">
    <div class="row">
        <div class="col-md-6">
            <div class="card mb-4">
                <h6 class="card-header">
                    Personal Information
                </h6>
                <div class="card-body">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label class="form-label">First Name</label>
                            <input type="text" class="form-control" formControlName="first_name" name="first_name"
                                [ngClass]="{'is-invalid': submitted && f.first_name.errors }">
                            <div *ngIf="submitted && f.first_name.errors" class="invalid-feedback">
                                <div *ngIf="f.first_name.errors.required">First Name Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label class="form-label">Last Name</label>
                            <input type="text" class="form-control" formControlName="last_name" name="last_name"
                                [ngClass]="{'is-invalid': submitted && f.last_name.errors }">
                            <div *ngIf="submitted && f.last_name.errors" class="invalid-feedback">
                                <div *ngIf="f.last_name.errors.required">Last Name Required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-6">
                            <label class="form-label">Email</label>
                            <input type="email" class="form-control" formControlName="email" name="email"
                                [ngClass]="{'is-invalid' : submitted && f.email.errors }">
                            <div *ngIf="f.email.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.email.errors.required">Email Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label class="form-label">Phone Number</label>
                            <input type="text" class="form-control" placeholder="(___) ___-____" formControlName="phone"
                                name="phone" [textMask]="phoneMaskOptions"
                                [ngClass]="{'is-invalid' : submitted && f.phone.errors }">
                            <div *ngIf="f.phone.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.phone.errors.required">Phone Required</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-md-4">
                            <label class="form-label">Call Sign</label>
                            <input type="text" class="form-control" formControlName="call_sign" name="call_sign"
                                [ngClass]="{'is-invalid' : submitted && f.call_sign.errors }">
                            <div *ngIf="f.call_sign.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.call_sign.errors.required">Call Sign Required</div>
                            </div>
                        </div>

                        <div class="form-group col-md-4">
                            <label class="form-label">Type</label>
                            <ng-select [items]="typeOptions" bindLabel="label" bindValue="value" formControlName="type"
                                [disabled]="disabled"
                                [ngClass]="{'is-invalid' : submitted && f.type.errors }">
                                <ng-template ng-label-tmp let-item="item">
                                    <span class="ng-value-label">{{item['label']}}</span>
                                </ng-template>

                                <ng-template ng-option-tmp let-item="item">
                                    <span class="ng-value-label">{{item['label']}}</span>
                                </ng-template>
                            </ng-select>
                            <div *ngIf="f.type.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.type.errors.required">Type Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-4" *ngIf="f.type.value==1">
                            <label class="form-label">CX Number</label>
                            <input type="text" class="form-control" formControlName="cx_number" name="cx_number">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label class="form-label">Address</label>
                            <input type="text" class="form-control" placeholder="1234 Main St" formControlName="address"
                                name="address" [ngClass]="{'is-invalid' : submitted && f.address.errors }">
                            <div *ngIf="f.address.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.address.errors.required">Address Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-6">
                            <label class="form-label">Address 2</label>
                            <input type="text" class="form-control" placeholder="Apartment, studio, or floor"
                                formControlName="address2" name="address2">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label class="form-label">City</label>
                            <input type="text" class="form-control" formControlName="city" name="city"
                                [ngClass]="{'is-invalid' : submitted && f.city.errors }">
                            <div *ngIf="f.city.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.city.errors.required">City Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="form-label">State</label>
                            <input type="text" class="form-control" formControlName="state" name="state"
                                [ngClass]="{'is-invalid' : submitted && f.state.errors }">
                            <div *ngIf="f.state.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.state.errors.required">State Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-2">
                            <label class="form-label">Postcode</label>
                            <input type="text" class="form-control" formControlName="postcode" name="postcode"
                                [ngClass]="{'is-invalid' : submitted && f.postcode.errors }">
                            <div *ngIf="f.postcode.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.postcode.errors.required">Postcode Required</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card mb-4">
                <h6 class="card-header">
                    Bank Detail
                </h6>
                <div class="card-body">
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label class="form-label">VAT</label>
                            <ng-select [items]="vatOptions" bindLabel="label" bindValue="value" formControlName="vat"
                                name="vat" [disabled]="disabled"
                                [ngClass]="{'is-invalid' : submitted && f.vat.errors }">
                                <ng-template ng-label-tmp let-item="item">
                                    <span class="ng-value-label">{{item['label']}}</span>
                                </ng-template>

                                <ng-template ng-option-tmp let-item="item">
                                    <span class="ng-value-label">{{item['label']}}</span>
                                </ng-template>
                            </ng-select>
                            <div *ngIf="f.vat.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.vat.errors.required">VAT Required</div>
                            </div>

                        </div>
                        <div class="form-group col-md-6" *ngIf="f.vat.value==2">
                            <label class="form-label">VAT number</label>
                            <input type="text" class="form-control" formControlName="vat_number" name="vat_number">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group col-md-4">
                            <label class="form-label">Bank Name</label>
                            <input type="text" class="form-control" formControlName="bank_name" name="bank_name"
                                [ngClass]="{'is-invalid' : submitted && f.bank_name.errors }">
                            <div *ngIf="f.bank_name.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.bank_name.errors.required">Bank Name Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="form-label">Bank Sort Code</label>
                            <input type="text" class="form-control" formControlName="bank_code" name="bank_code"
                                [ngClass]="{'is-invalid' : submitted && f.bank_code.errors }">
                            <div *ngIf="f.bank_code.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.bank_code.errors.required">Bank Sort Code Required</div>
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="form-label">Bank Account Number</label>
                            <input type="text" class="form-control" formControlName="bank_account_number"
                                name="bank_account_number"
                                [ngClass]="{'is-invalid' : submitted && f.bank_account_number.errors }">
                            <div *ngIf="f.bank_account_number.errors && submitted" class="invalid-feedback">
                                <div *ngIf="f.bank_account_number.errors.required">Bank Account Number Required</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>